{% extends 'shared_layout/base.html' %} {%block title%} register {%endblock title%} {%block contents%} {%if error%}
<div class="alert alert-danger" role="alert">
    {{error}}
</div>
{%endif%}
<div class="container">
    <form id="registration-form">
  <div class="form-group">
    <label for="username">Username</label>
    <input type="text" class="form-control" id="username" placeholder="Username">
  </div>
  <div class="form-group">
    <label for="driver_category">Driver Category</label>
    <input type="text" class="form-control" id="driver_category" placeholder="Driver Category">
  </div>
  <div class="form-group">
    <label for="contact">Contact Information</label>
    <input type="text" class="form-control" id="contact" placeholder="Contact Information">
  </div>
  <div class="form-group">
    <label for="company">Company</label>
    <input type="text" class="form-control" id="company" placeholder="Company">
  </div>
  <div class="form-group">
    <label for="nationality">Nationality</label>
    <input type="text" class="form-control" id="nationality" placeholder="Nationality">
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>

</div>
<script>
    $(document).ready(function () {
        $("#registration-form").submit(function (event) {
            event.preventDefault();
            var username = $("#username").val();
            var driver_category = $("#driver_category").val();
            var contact = $("#contact").val();
            var company = $("#company").val();
            var nationality = $("#company").val();
            var formData = {
                'username': username,
                'driver_category': driver_category,
                'contact': contact,
                'company': company,
                'nationality': nationality
            };
            

            $.ajax({
                type: 'POST',
                url: '/driver/',
                data: formData,
                dataType: 'json',
                headers: { 'X-CSRFToken': csrftoken },
                success: function (data) {
                    console.log("Successfully sent data to server:", data);
                },
                error: function (data) {
                    console.error("Failed to send data to server:", data);
                }
            });
        });
    });
</script>
{%endblock contents%}